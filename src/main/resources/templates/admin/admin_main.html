<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê´€ë¦¬ì ë©”ì¸(admin)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:opsz,wght@6..96,400;500&family=Noto+Serif+KR:wght@300;400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    html, body { scrollbar-gutter: stable; overflow-x: hidden;}    

    /* ë©”ì¸ íƒ€ì´í‹€ & ì§‘ê³„í˜„í™© ë¼ì¸ */
    .title-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-left: 20px; ;
    }     

    /* ì°¨íŠ¸ */
    .container {
      width: 900px;
      display: flex;
      gap: 150px;
      justify-content: center;      
      margin-left: 50px;
    }
    .chart-box{ flex:0 0 320px; height:400px; }  /* ì›í•˜ëŠ” í­ìœ¼ë¡œ ê³ ì • */
    .chart-box canvas{ width:100% !important; height:100% !important; } /* ë°•ìŠ¤ ì±„ìš°ê¸° */
    canvas {
      width: 300px !important;      
    }
    .chart-legend {
      font-size: 12px !important;
    }

    /* ìš´ì˜í˜„í™© */
    .status-table {
      width: 850px;      
      border-collapse: collapse;
      text-align: center;
      font-size: 14px;
      margin-top: 10px;
      margin-left: 30px;
      table-layout: fixed;
    }
    .status-table th {
      border-top: 2px solid #ccc;
      border-right: 1px solid #ccc;
      padding-top: 10px;
    }
    .status-table td {
      border-bottom: 1px solid #ccc;
      border-right: 1px solid #ccc;
      padding: 10px;
    }  
    .status-table td.value {
      color: #d0021b;
      font-weight: bold;
    }
    .status-gap {
      height: 15px;
      border: none;
    }

    /* ê³µì§€ì‚¬í•­ & ê³ ê°ë¬¸ì˜ */
    .board-wrapper {
      width: 850px;
      display: flex;
      gap: 20px;                  
      margin-left: 30px;      
      box-sizing: border-box; 
    }
    .board-section {
      flex: 1;
    }    
    .board-section ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .board-section li {
      display: flex;
      justify-content: space-between;       
      border-bottom: 1px solid #ccc;
      font-size: 14px;      
      padding: 12px;
    }
    .board-section li:last-child {
      border-bottom: none;
    }
    .board-section li span {
      color: #666;
      font-size: 14px;
    }
    
    html{ scrollbar-gutter: stable; }
    .icon-btn {
        background:none; border:1px solid #000; cursor:pointer;
        width:40px; height:40px; display:grid; place-items:center;
    }

    /* 1) ìŠ¤í¬ë¦¼(ë°°ê²½) - í™”ë©´ ì „ì²´ ë®ìŒ + ë¸”ëŸ¬ */
    .overlay {
        position: fixed; inset: 0;
        background: rgba(255,255,255,0.28);      /* ë°˜íˆ¬ëª…ì´ì–´ì•¼ blur ë³´ì„ */
        backdrop-filter: blur(1px);
        -webkit-backdrop-filter: blur(1px); /* ì‚¬íŒŒë¦¬ìš© */
        opacity: 0; 
        pointer-events: none;
        transition: opacity .25s ease;
        z-index: 1000;
    }
    .overlay.open { opacity: 1; pointer-events: auto; }

    /* 2) ì™¼ìª½ì—ì„œ ë‚˜ì˜¤ëŠ” íŒ¨ë„ */
    .overlay__panel {
        position: absolute; top:0; left:0;
        width: 50vw;                 /* í™”ë©´ ì ˆë°˜ */
        max-width: 900px;            /*(ì„ íƒ) ìµœëŒ€ í­ ì œí•œ */
        height: 100%;
        background: white;         /* íŒ¨ë„ ìì²´ëŠ” ë¶ˆíˆ¬ëª…í•´ë„ OK */
        transform: translateX(-100%); /* í™”ë©´ ë°–ì—ì„œ ì‹œì‘ */
        transition: transform .35s ease;
        will-change: transform;
        display: flex; flex-direction: column;
    }
    .overlay.open .overlay__panel { transform: translateX(0); }

    /* ìƒë‹¨ ë‹«ê¸° ë²„íŠ¼ê³¼ ë¡œê³  ì˜ì—­ */
    .overlay__top {
        display:flex; align-items:center; gap:24px;
        padding:20px;
    }
    .overlay__close {
        background:none; border:1px solid; width:100px; height:50px; cursor:pointer;
        position:relative;
        border:none;
        margin-left:0.3%;
    }
    .overlay__close::before,
    .overlay__close::after{
        content:""; position:absolute; left:15px; right:10px; top:25px; height:2px; background:#000;
    }
    .overlay__close::before{ transform:rotate(45deg); }
    .overlay__close::after { transform:rotate(-45deg); }

    /* ë©”ë‰´ ê·¸ë¦¬ë“œ */
    .overlay__menu {
        display:grid; grid-template-columns: 180px auto; gap:24px;
        padding:40px 20px; font-size:16px;
    }
    .overlay__menu a {
        text-decoration:none; color:#000; display:block; padding:8px 0;
    }
    .overlay__menu strong { font-weight:700; }
    /* Header Sticky ë° background ì ìš© */
    
    *{ box-sizing: border-box; }
    body{ margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    a{ color:inherit; text-decoration:none; }
    ul{ margin:0; padding:0; list-style:none; }

    /* ===== í—¤ë” (ì²˜ìŒì—” íˆ¬ëª…, hover ì‹œ ë°˜íˆ¬ëª…) ===== */
    .site-header{
        top: 0;
        z-index: 900;          /* ì˜¤ë²„ë ˆì´(1000)ë³´ë‹¤ ë‚®ê²Œ */
    }
    .site-header::before{
        content:"";
        position:absolute; inset:0;
        background: rgba(255,255,255,0);            /* ê¸°ë³¸ ì™„ì „ íˆ¬ëª… */
        transition: background 0.4s ease;
        z-index: -1;
        pointer-events: none;                        /* í´ë¦­ ë°©í•´ ê¸ˆì§€ */
    }
    .site-header:hover::before{
        background: rgba(255,255,255,0.7);                /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë°˜íˆ¬ëª… */
    }
    .site-header .inner{
        position: relative; z-index: 1;             /* ::before ì•„ë˜ë¡œ ê¹”ë¦¬ê²Œ */
        display:flex; align-items:center; gap:24px;
        padding: 16px 24px;
        border-bottom: 1px solid #000;              /* í•„ìš” ì—†ìœ¼ë©´ ì œê±° */
    }
      .title-didone{
        text-align:center;
        font-family: 'Bodoni Moda','Didot','Bodoni 72','Times New Roman',serif;
        margin-left:45px;
        font-weight:400;                 
        letter-spacing:.02em;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    .title-didone.ko{font-family: 'Noto Serif KR','Bodoni Moda',serif; font-weight:300;}

   /* ===== ZARA-like European Monochrome ===== */
    :root{
      --z-black:#111;
      --z-white:#fff;
      --z-line:#e9e9e9;     /* í—¤ì–´ë¼ì¸ ê·¸ë ˆì´ */
      --z-muted:#6f6f6f;
    }

    /* ì‚¬ì´ë“œ ë„¤ë¹„ ì¹´ë“œ */
    .euro-nav{
      width:240px;
      margin:0;
      background:var(--z-white);
      border:1px solid var(--z-line);
      overflow:hidden;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* ê·¸ë£¹ íƒ€ì´í‹€: ì–‡ê³  ë„“ì€ ìê°„, ëŒ€ë¬¸ì */
    .euro-nav__group{
      border-top:1px solid var(--z-line);
    }
    .euro-nav__group:first-of-type{ border-top:0; }
    .euro-nav__title{
      padding:16px 18px 14px;
      font-size:17px;
      margin: 0;
      letter-spacing:0em;
      text-transform:uppercase;
      color:var(--z-black);
      border-bottom:1px solid var(--z-line);
      background-color: black; color:white;
      font-weight:600;
    }

    /* í•­ëª© ë¦¬ìŠ¤íŠ¸ */
    .euro-nav__list{ margin:0; padding:3px 0; list-style:none; }
    .euro-nav__item a{
      position:relative;
      display:block;
      padding:12px 20px;
      font-size:14px;
      line-height:1.4;
      color:var(--z-black);
      text-decoration:none;
      transition: color .25s ease, transform .2s ease;
    }
    .euro-nav__item a:hover{
      color:var(--z-black);
      transform: translateX(2px);
    }
    /* í—¤ì–´ë¼ì¸ êµ¬ë¶„ */
    .euro-nav__item a{ border-bottom:1px solid var(--z-line); }
    .euro-nav__item:last-child a{ border-bottom:0; }

    /* ZARA ëŠë‚Œì˜ ë°‘ì¤„ ì• ë‹ˆë©”ì´ì…˜ */
    .euro-nav__item a::after{
      content:"";
      position:absolute; left:20px; right:20px; bottom:8px;
      height:1px; background:var(--z-black);
      transform: scaleX(0); transform-origin:left center;
      transition: transform .25s ease;
    }
    .euro-nav__item a:hover::after{ transform: scaleX(1); }

    /* Active(í˜„ì¬ ìœ„ì¹˜) í‘œì‹œ: ì–‡ì€ ì™¼ìª½ ë¸”ë™ ë°” + ì„¸ë¯¸ë³¼ë“œ */
    .euro-nav__item.is-active a{
      font-size:20px;
      font-weight:600;
    }
    .euro-nav__item.is-active a::before{
      content:"";
      position:absolute; left:0; top:8px; bottom:8px;
      width:2px; background:var(--z-black);
    }

    /* ì ‘ê·¼ì„± í¬ì»¤ìŠ¤ */
    .euro-nav__item a:focus-visible{
      outline:2px solid var(--z-black);
      outline-offset:2px;
    }
  
  </style>
</head>
<body>
  <header class="site-header">
        <div style="margin-left:2%; width:98%; box-sizing: border-box; margin-top:2%; display:flex; height:230px;">
            <button style="border:none;" id="menuBtn" class="icon-btn" aria-controls="menuOverlay" aria-expanded="false" aria-label="ë©”ë‰´ ì—´ê¸°">
                <svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
                    <rect y="12" width="64" height="1" fill="black"/>
                    <rect y="30" width="64" height="1" fill="black"/>
                    <rect y="48" width="64" height="1" fill="black"/>
                </svg>
            </button>
            <div style="margin-left:3%;">
                <img src="/images/logo.png" alt="" style="width:270px;">
            </div>
            <div style="margin-top:27px; margin-left:auto; margin-right:3%; flex:1; max-width:30%;">
                <ul style="list-style-type: none; padding: 0; margin:0; display:flex; gap:40px; float:right; margin-right:100px;">
                    <li><a href="#" style="text-decoration: none; color:black; font-size:14px;">í™ˆ</a></li>
                    <li><a href="#" style="text-decoration: none; color:black; font-size:14px;">ë¡œê·¸ì•„ì›ƒ</a></li>
                    <li><a href="#" style="text-decoration: none; color:black; font-size:14px;">ê³ ê°ì„¼í„°</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- ì „ì²´ í™”ë©´ ì˜¤ë²„ë ˆì´ ë©”ë‰´ -->
  <aside id="menuOverlay" class="overlay" aria-hidden="true">
    <div class="overlay__panel">
        <div class="overlay__top"  style="margin-top:20px;">
            <button id="closeBtn" class="overlay__close" aria-label="ë©”ë‰´ ë‹«ê¸°"></button>
            <div style="font-size:72px; font-weight:800; letter-spacing:-10px; "class="title-didone">NICHIYA</div>
        </div>
        <style>
            /* ìš°ì¸¡ ì„œë¸Œí•­ëª© ê¸°ë³¸ì€ ìˆ¨ê¹€ + í˜ì´ë“œ íŠ¸ëœì§€ì…˜ ì¤€ë¹„ */
            .sub {
                opacity: 0;
                transform: translateY(6px);
                pointer-events: none;
                transition: opacity .28s ease, transform .28s ease;
                display: none; /* ì‹œê°Â·ë ˆì´ì•„ì›ƒ ëª¨ë‘ ìˆ¨ê¹€ */
            }
            /* ë³´ì—¬ì¤„ ë•Œ */
            .sub.show {
                display: block;
                opacity: 1;
                transform: translateY(0);
                pointer-events: auto;
            }
            /* ì˜¤ë¥¸ìª½ ì»¬ëŸ¼ì€ íŒ¨ë„ë“¤ì„ í¬ê°œëŠ” 'ìŠ¤í…Œì´ì§€' */
            #subcol{
                grid-row: span 2;
                height:900px;
                position: relative;          /* ìì‹ absolute ê¸°ì¤€ì  */
                padding: 0;                  /* ì•ˆìª½ ì—¬ë°±ì€ íŒ¨ë„ì—ì„œ */
            }
            /* ì ‘ê·¼ì„±: í˜„ì¬ ì„ íƒëœ ì¹´í…Œê³ ë¦¬ í‘œì‹œ(ì„ íƒì‚¬í•­) */
            .overlay__menu a[data-cat].is-active { font-weight: 700; text-decoration: underline; }

            /* ì˜¤ë¥¸ìª½ ì»¬ëŸ¼ì˜ í•­ëª©ì€ ì—¬ë°± ì œê±°(ì „ì—­ a padding ë¬´ì‹œ) */
            #subcol .sub{
                padding:0;
                margin:0;
            }
            /* íŒ¨ë„: ì „ë¶€ ê²¹ì³ ë†“ê³  ê¸°ë³¸ì€ ìˆ¨ê¹€ */
            #subcol .panel{
                position: absolute; inset: 0;
                padding: 20px;
                overflow: auto;
                opacity: 0;
                transform: translateY(6px);
                transition: opacity .35s ease, transform .35s ease;
                visibility: hidden;   /* display ëŒ€ì‹  visibility */
                pointer-events: none; /* ìˆ¨ê¸¸ ë•Œ í´ë¦­ ë°©ì§€ */
            }

            /* ë³´ì´ëŠ” íŒ¨ë„ */
            #subcol .panel.show{
                opacity: 1;
                transform: none;
                visibility: visible;
                pointer-events: auto; /* ë‹¤ì‹œ í´ë¦­ ê°€ëŠ¥ */
            }

            /* ì˜ˆì‹œìš© ê·¸ë¦¬ë“œ(ì›í•˜ë©´ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ) */
            .menu-grid{
                display: grid;
                grid-template-columns: repeat(2, auto);
                column-gap: 50px;   /* ê°€ë¡œ ê°„ê²© ì—¬ê¸°ì„œ ì¡°ì ˆ */
                row-gap: 6px;      /* ì„¸ë¡œ ê°„ê²©(í•„ìš”ì‹œ) */
                padding: 0;        /* UL ê¸°ë³¸ íŒ¨ë”© ì œê±° */
                margin: 0;         /* UL ê¸°ë³¸ ë§ˆì§„ ì œê±° */
                justify-content: start; /* ì™¼ìª½ ì •ë ¬ */
            }
            .menu-grid li{ list-style: none; }
            #header{ display: contents; }
        </style>

        <div style="display: flex; margin-left:20%; margin-top:1%; width:100%;">
            <nav class="overlay__menu" style="width:100%;">
                <div style="">
                    <a href="#">íˆíŠ¸ìƒí’ˆ</a>
                    <a href="#">ì¶”ì²œìƒí’ˆ</a>
                    <a href="#">ìµœì‹ ìƒí’ˆ</a>
                    <a href="#">ì¸ê¸°ìƒí’ˆ</a>
                    <a href="#">í• ì¸ìƒí’ˆ</a>
                    <br><br>
                    <a href="#" data-cat="fashion">íŒ¨ì…˜ Â· ì˜ë¥˜ Â· ë·°í‹°</a>
                    <a href="#" data-cat="digital">ê°€ì „ Â· ë””ì§€í„¸</a>
                    <a href="#" data-cat="grocery">ì‹í’ˆ Â· ìƒí•„í’ˆ</a>
                    <a href="#" data-cat="home">í™ˆ Â· ë¬¸êµ¬ Â· ì·¨ë¯¸</a>
                    <a href="#" data-cat="book">ë„ì„œ</a>
                </div>
                <div id="subcol">
                    <!-- íŒ¨ì…˜ íŒ¨ë„ -->
                    <section class="panel" data-key="fashion">
                        <h3>íŒ¨ì…˜ Â· ì˜ë¥˜ Â· ë·°í‹°</h3>
                        <!-- ì´ ì•ˆì€ ììœ ë¡­ê²Œ: ê·¸ë¦¬ë“œ/ì´ë¯¸ì§€/í…ìŠ¤íŠ¸ ë¬´ì—‡ì´ë“  -->
                        <ul class="menu-grid" style="">
                        <li><a href="#">ì—¬ì„± ì˜ë¥˜</a></li>
                        <li><a href="#">ìŠ¤í‚¨ì¼€ì–´</a></li>
                        <!-- â€¦ -->
                        </ul>
                    </section>

                    <!-- ë””ì§€í„¸ íŒ¨ë„ -->
                    <section class="panel" data-key="digital">
                        <h3>ê°€ì „ Â· ë””ì§€í„¸</h3>
                        <div class="menu-grid">
                        <a href="#">ìƒí™œê°€ì „</a>
                        <a href="#">ëª¨ë°”ì¼ Â· PC</a>
                        </div>
                    </section>

                    <!-- ì‹í’ˆ íŒ¨ë„ -->
                    <section class="panel" data-key="grocery">
                        <h3>ì‹í’ˆ Â· ìƒí•„í’ˆ</h3>
                        <div class="menu-grid">
                            <a href="#">ì‹ ì„ ì‹í’ˆ</a>
                            <a href="#">ìƒí™œìš©í’ˆ</a>
                        </div>
                    </section>

                    <!-- í™ˆ/ë¬¸êµ¬ íŒ¨ë„ -->
                    <section class="panel" data-key="home">
                        <h3>í™ˆ Â· ë¬¸êµ¬ Â· ì·¨ë¯¸</h3>
                        <div class="menu-grid">
                            <a href="#">ê°€êµ¬ Â· ì¸í…Œë¦¬ì–´</a>
                            <a href="#">ë¬¸êµ¬ Â· ì‚¬ë¬´ìš©í’ˆ</a>
                        </div>
                    </section>

                    <!-- ë„ì„œ íŒ¨ë„ -->
                    <section class="panel" data-key="book">
                        <h3>ë„ì„œ</h3>
                        <div class="menu-grid">
                            <a href="#">ì†Œì„¤ Â· ì—ì„¸ì´</a>
                            <a href="#">ì•„ë™ Â· êµìœ¡</a>
                        </div>
                    </section>
                </div>
                <div style=""></div>
            </nav>
        </div>
    </div>
  </aside>

    <script>
    const body     = document.body;
    const menuBtn  = document.getElementById('menuBtn');
    const closeBtn = document.getElementById('closeBtn');
    const overlay  = document.getElementById('menuOverlay');

    function openMenu(){
        overlay.classList.add('open');
        overlay.setAttribute('aria-hidden', 'false');
        menuBtn.setAttribute('aria-expanded', 'true');
        body.style.overflow = 'hidden'; // ë’¤ ìŠ¤í¬ë¡¤ ì ê¸ˆ
    }
    function closeMenu(){
        overlay.classList.remove('open');
        overlay.setAttribute('aria-hidden', 'true');
        menuBtn.setAttribute('aria-expanded', 'false');
        body.style.overflow = '';
    }

    menuBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.addEventListener('click', (e) => {
        // ë¹ˆ ë°°ê²½ í´ë¦­ ì‹œ ë‹«ê¸° (ë©”ë‰´ ì½˜í…ì¸  í´ë¦­ì€ ë¬´ì‹œ)
        if(e.target === overlay) closeMenu();
    });
    // Esc í‚¤ë¡œ ë‹«ê¸°
    window.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && overlay.classList.contains('open')) closeMenu();
    });
    // ====== ìƒˆë¡œ ì¶”ê°€: ì¹´í…Œê³ ë¦¬ í´ë¦­ ì‹œ í˜ì´ë“œì¸ ======
    // ë§¤í•‘ì€ data-cat ê°’ê³¼ data-sub ê°’ì„ ë™ì¼ í‚¤ë¡œ ì—°ê²°
    const catLinks = document.querySelectorAll('.overlay__menu a[data-cat]');
    const panels   = document.querySelectorAll('#subcol .panel');

    function setActiveCat(target){
        catLinks.forEach(a => a.classList.remove('is-active'));
        if(target) target.classList.add('is-active');
    }

    function showPanel(key){
        panels.forEach(p => p.classList.toggle('show', p.dataset.key === key));
    }

    catLinks.forEach(link => {
    link.addEventListener('click', (e) => {
            e.preventDefault();
            const key = link.getAttribute('data-cat');
            setActiveCat(link);
            showPanel(key);
        });
    });

    // ê¸°ë³¸ìœ¼ë¡œ í•œ íŒ¨ë„ ì˜¤í”ˆ(ì›í•˜ëŠ” í‚¤ë¡œ ë°”ê¾¸ì„¸ìš”)
    setActiveCat(document.querySelector('.overlay__menu a[data-cat="fashion"]'));
    showPanel('fashion');
    </script>
  <main style=" display: flex; justify-content: center; border-top:1px solid #e2e2e2;">
    <div>
    <aside class="euro-nav" aria-label="ê´€ë¦¬ì ì‚¬ì´ë“œ ë©”ë‰´" style="">
            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">í™˜ê²½ì„¤ì •</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ê¸°ë³¸ì„¤ì •</a></li>
                <li class="euro-nav__item"><a href="#">ë°°ë„ˆê´€ë¦¬</a></li>
                <li class="euro-nav__item"><a href="#">ì•½ê´€ê´€ë¦¬</a></li>
                <li class="euro-nav__item"><a href="#">ì¹´í…Œê³ ë¦¬</a></li>
                <li class="euro-nav__item"><a href="#">ë²„ì „ê´€ë¦¬</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">ìƒì ê´€ë¦¬</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ìƒì ëª©ë¡</a></li>
                <li class="euro-nav__item"><a href="#">ë§¤ì¶œí˜„í™©</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">íšŒì›ê´€ë¦¬</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">íšŒì›ëª©ë¡</a></li>
                <li class="euro-nav__item"><a href="#">í¬ì¸íŠ¸ê´€ë¦¬</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">ìƒí’ˆê´€ë¦¬</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ìƒí’ˆëª©ë¡</a></li>
                <li class="euro-nav__item"><a href="#">ìƒí’ˆë“±ë¡</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">ì£¼ë¬¸ê´€ë¦¬</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ì£¼ë¬¸í˜„í™©</a></li>
                <li class="euro-nav__item"><a href="#">ë°°ì†¡í˜„í™©</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">ì¿ í°ê´€ë¦¬</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ì¿ í°ëª©ë¡</a></li>
                <li class="euro-nav__item"><a href="#">ì¿ í°ë°œê¸‰í˜„í™©</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">ê³ ê°ì„¼í„°</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">ê³µì§€ì‚¬í•­</a></li>
                <li class="euro-nav__item"><a href="#">ìì£¼ë¬»ëŠ”ì§ˆë¬¸</a></li>
                <li class="euro-nav__item"><a href="#">ë¬¸ì˜í•˜ê¸°</a></li>
                <li class="euro-nav__item"><a href="#">ì±„ìš©í•˜ê¸°</a></li>
            </ul>
            </section>
        </aside>
        </div>
        <div style="border-left:1px solid #e2e2e2;"></div>
        <div style="width:900px; margin-left:40px;">

  <!-- ë©”ì¸ ì½˜í…ì¸  -->
  <div class="title-line" style="border-bottom: 2px solid #ccc;">
    <div style="padding-top: 10px; padding-bottom: 5px; font-size: 22px;"><b>ê´€ë¦¬ìë©”ì¸</b></div>
    <div>HOME > <b>ê´€ë¦¬ì ë©”ì¸</b></div>
  </div>  

  <!-- ì§‘ê³„í˜„í™© -->
  <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>ì§‘ê³„í˜„í™©</b></div>
    <div class="container">
    <div class="chart-box"><canvas id="barChart" ></canvas></div>
    <div class="chart-box"><canvas id="pieChart" ></canvas></div>
  </div>

  <!-- ìš´ì˜í˜„í™© -->

  <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>ìš´ì˜í˜„í™©</b></div>
    <table class="status-table">
        <tr>
            <th>ì…ê¸ˆëŒ€ê¸°</th>
            <th>ë°°ì†¡ì¤€ë¹„</th>
            <th>ì·¨ì†Œìš”ì²­</th>
            <th>êµí™˜ìš”ì²­</th>
            <th style="border-right: none;">ë°˜í’ˆìš”ì²­</th>
        </tr>
        <tr>
            <td class="value" id="v_pending"></td>
            <td class="value" id="v_ready"></td>
            <td class="value" id="v_cancel"></td>
            <td class="value" id="v_exchange"></td>
            <td class="value" id="v_return" style="border-right: none;"></td>
        </tr>

        <tr class="status-gap"></tr>

        <tr>
            <th>ì£¼ë¬¸ê±´ìˆ˜</th>
            <th>ì£¼ë¬¸ê¸ˆì•¡</th>
            <th>íšŒì›ê°€ì…</th>
            <th>ë°©ë¬¸ì ìˆ˜</th>
            <th style="border-right: none;">ë¬¸ì˜ ê²Œì‹œë¬¼</th>
        </tr>
        <tr>
            <td class="value" id="v_order_cnt"></td>
            <td class="value" id="v_order_amt"></td>
            <td class="value" id="v_signup"></td>
            <td class="value" id="v_visit"></td>
            <td class="value" id="v_qna" style="border-right: none;"></td>
        </tr>

        <!-- ì˜¤ëŠ˜/ì–´ì œ ë¹„êµ í‘œ (í•˜ë‹¨ ì‘ì€ í‘œ) -->
        <tr>
            <td colspan="5" style="padding:0; border: none;">
                <table style="width:100%; border-collapse:collapse; text-align:center; table-layout: fixed;">
                    <tr>
                        <td>ì˜¤ëŠ˜</td><td id="t_order_cnt_today"></td>
                        <td>ì˜¤ëŠ˜</td><td id="t_order_amt_today" style="text-align:center;padding-left:0;padding-right:0;"></td>
                        <td>ì˜¤ëŠ˜</td><td id="t_signup_today"></td>
                        <td>ì˜¤ëŠ˜</td><td id="t_visit_today"></td>
                        <td>ì˜¤ëŠ˜</td><td id="t_qna_today" style="border-right:none;"></td>
                    </tr>
                    <tr>
                        <td>ì–´ì œ</td><td id="t_order_cnt_yday"></td>
                        <td>ì–´ì œ</td><td id="t_order_amt_yday" style="text-align:center;padding-left:0;padding-right:0;"></td>
                        <td>ì–´ì œ</td><td id="t_signup_yday"></td>
                        <td>ì–´ì œ</td><td id="t_visit_yday"></td>
                        <td>ì–´ì œ</td><td id="t_qna_yday" style="border-right:none;"></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <div class="board-wrapper" style="margin-bottom: 50px;">

    <!-- ê³µì§€ì‚¬í•­ -->
    <div class="board-section">
        <div style="padding-top: 20px; padding-bottom: 5px;"><b>ê³µì§€ì‚¬í•­</b></div>
        <hr style="margin-top: 10px;">

        <ul>
            <!-- ë°ì´í„° ì—†ëŠ” ê²½ìš° -->
            <li th:if="${#lists.isEmpty(notices)}" style="justify-content:center; color:#888;">
                ë“±ë¡ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.
            </li>

            <!-- ë°ì´í„° ìˆëŠ” ê²½ìš° -->
            <li th:each="n : ${notices}">
                <span th:text="${n.pinned} ? 'ğŸ“Œ ' : ''"></span>
                <a th:href="@{/admin/notice/{id}(id=${n.id})}"
                   th:text="${n.title}">ê³µì§€ íƒ€ì´í‹€</a>
                <span th:text="${#temporals.format(n.createdAt, 'yy.MM.dd')}">25.09.30</span>
            </li>
        </ul>
    </div>


        <!-- ê³ ê°ë¬¸ì˜ -->
        <div class="board-section">
            <div style="padding-top:20px; padding-bottom:5px;"><b>ê³ ê°ë¬¸ì˜</b></div>
            <hr style="margin-top:10px;">
            <ul>
                <li th:if="${#lists.isEmpty(inquiries)}" style="justify-content:center; color:#888;">
                    ë“±ë¡ëœ ë¬¸ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.
                </li>

                <li th:each="q : ${inquiries}">
                    <span th:text="${q.qnaStatus == 'NEW' ? '[ ë¯¸ë‹µë³€ ]' : '[ ë‹µë³€ì™„ë£Œ ]'}"></span>
                    <a th:href="@{/admin/qna/{id}(id=${q.id})}"
                       th:text="${q.title}">ë¬¸ì˜ ì œëª©</a>
                    <span th:text="${q.userId}">user</span>
                    <span th:text="${q.createdAt}">25.09.30</span>
                </li>
            </ul>
        </div>

  </div>
  </div>
  <script>
    // ë°” ì°¨íŠ¸
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['10-10', '10-11', '10-12', '10-13', '10-14'],
        datasets: [
          { label: 'ì£¼ë¬¸', data: [5.3, 9, 3.5, 4.4, 4.5], backgroundColor: '#4A90E2' },
          { label: 'ê²°ì œ', data: [3.3, 7, 1.8, 2.8, 2.8], backgroundColor: '#D0021B' },
          { label: 'ì·¨ì†Œ', data: [1, 2, 2, 1, 1], backgroundColor: '#7ED321' }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { labels: { boxWidth: 12, boxHeight: 12 } },
          title: { display: false }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 10,
            ticks: { display: false },
            grid: {
              drawTicks: false,
              borderColor: '#ccc'
            }
          },
          x: {
            grid: {
              display: false,
              drawBorder: false
            },            
            barPercentage: 0.4,      
            categoryPercentage: 0.6  
          }
        }
      },
      plugins: [{
        id: 'rightBorder',
        afterDraw(chart) {
          const { ctx, chartArea: { top, bottom, right } } = chart;
          ctx.save();
          ctx.beginPath();
          ctx.moveTo(right, top);
          ctx.lineTo(right, bottom);
          ctx.lineWidth = 1;
          ctx.strokeStyle = '#ccc';
          ctx.stroke();
          ctx.restore();
        }
      }]
    });

    // íŒŒì´ ì°¨íŠ¸
    new Chart(document.getElementById('pieChart'), {
      type: 'pie',
      data: {
        labels: ['ê°€ì „', 'ì‹í’ˆ', 'ì˜ë¥˜', 'ê¸°íƒ€'],
        datasets: [{
          data: [55, 25, 10, 10],
          backgroundColor: ['#4A90E2', '#D0021B', '#7ED321', '#8977AD']
        }]
      },
      options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { 
        title: { display: true, text: 'ì£¼ìš”ë§¤ì¶œ' },
        legend: { 
          position: 'bottom',
          labels: {
            boxWidth: 10,   
            boxHeight: 10,  
            padding: 15,    
            font: {
              size: 12      
            }
          }
        }
      }
    }
  });
  </script>
  </main>
  <style>
        .euro-nav__list {
            max-height: 0;                /* ê¸°ë³¸ì€ ì ‘í˜ */
            overflow: hidden;             /* ì•ˆ ë³´ì´ê²Œ */
            transition: max-height 0.15s ease;
        }

            .euro-nav__group.open .euro-nav__list {
            max-height: 500px;            /* í¼ì³ì¡Œì„ ë•Œ (ì¶©ë¶„íˆ í¬ê²Œ ì„¤ì •) */
        }
    </style>
    <script>
        // ì•„ì½”ë””ì–¸: í´ë¦­ ì‹œ ë†’ì´ë¥¼ ì‹¤ì œ ë‚´ìš© ë†’ì´ë¡œ ì• ë‹ˆë©”ì´ì…˜
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.style.cursor = 'pointer'; // í´ë¦­ ê°€ëŠ¥ ì‹œê°í™”(ì„ íƒ)
    title.addEventListener('click', () => {
      const group = title.parentElement;
      const list  = group.querySelector('.euro-nav__list');

      const isOpen = group.classList.contains('open');

      if (isOpen) {
        // ë‹«ê¸°: í˜„ì¬ ë†’ì´ë¥¼ ê³ ì • -> 0ìœ¼ë¡œ
        list.style.maxHeight = list.scrollHeight + 'px';
        // ê°•ì œ ë¦¬í”Œë¡œìš°ë¡œ íŠ¸ëœì§€ì…˜ ì‹œì‘ì  í™•ì •
        list.offsetHeight; 
        list.style.maxHeight = '0px';
        group.classList.remove('open');
      } else {
        // ì—´ê¸°: 0 -> ë‚´ìš© ë†’ì´
        group.classList.add('open');
        list.style.maxHeight = list.scrollHeight + 'px';

        // ì• ë‹ˆë©”ì´ì…˜ ëë‚˜ë©´ inline max-height ì œê±°(ìì—°ìŠ¤ëŸ° ë ˆì´ì•„ì›ƒ)
        const onEnd = (e) => {
          if (e.propertyName === 'max-height') {
            list.style.maxHeight = 'none';
            list.removeEventListener('transitionend', onEnd);
          }
        };
        list.addEventListener('transitionend', onEnd);
      }
    });
  });

  const groups = document.querySelectorAll('.euro-nav__group');
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.addEventListener('click', () => {
      groups.forEach(g => {
        if (g !== title.parentElement && g.classList.contains('open')) {
          const l = g.querySelector('.euro-nav__list');
          l.style.maxHeight = l.scrollHeight + 'px';
          l.offsetHeight;
          l.style.maxHeight = '0px';
          g.classList.remove('open');
        }
      });
    }, {capture:true});
  });
  
    </script>
  <script>
      (function(){
          const ctxPath = '/NICHIYA'; // context-path ì‚¬ìš© ì¤‘ì´ë©´ ìœ ì§€, ì—†ë‹¤ë©´ '' ë¡œ

          // ë¡œì»¬ ì‹œê°„ ê¸°ë°˜ "YYYY-MM-DDTHH:mm:ss" ë¬¸ìì—´
          const toLocalISO = (d) => {
              const p = n => String(n).padStart(2,'0');
              return `${d.getFullYear()}-${p(d.getMonth()+1)}-${p(d.getDate())}T${p(d.getHours())}:${p(d.getMinutes())}:${p(d.getSeconds())}`;
          };

          const todayStart   = new Date(); todayStart.setHours(0,0,0,0);
          const tomorrowStart= new Date(todayStart); tomorrowStart.setDate(tomorrowStart.getDate()+1);
          const yesterdayStart=new Date(todayStart); yesterdayStart.setDate(yesterdayStart.getDate()-1);

          // ê³µí†µ ë°”ì¸ë”
          function bindTotals(data){
              // ìƒë‹¨ ë‘ ì¤„(ì§‘ê³„)
              document.getElementById('v_pending').textContent  = data.pendingPayment;
              document.getElementById('v_ready').textContent    = data.shippingReady;
              document.getElementById('v_cancel').textContent   = data.cancelRequest;
              document.getElementById('v_exchange').textContent = data.exchangeRequest;
              document.getElementById('v_return').textContent   = data.returnRequest;

              document.getElementById('v_order_cnt').textContent = data.orderCount;
              document.getElementById('v_order_amt').textContent = Number(data.orderAmount||0).toLocaleString();
              document.getElementById('v_signup').textContent    = data.userSignups;
              document.getElementById('v_visit').textContent     = data.visitors;   // ë°©ë¬¸ì ë¡œì§ ë¶™ì´ë©´ êµì²´
              document.getElementById('v_qna').textContent       = data.qnaCount;
          }

          // ì˜¤ëŠ˜/ì–´ì œ í‘œ ë°”ì¸ë”©
          function bindToday(data){
              document.getElementById('t_order_cnt_today').textContent = data.orderCount;
              document.getElementById('t_order_amt_today').textContent = Number(data.orderAmount||0).toLocaleString();
              document.getElementById('t_signup_today').textContent    = data.userSignups;
              document.getElementById('t_visit_today').textContent     = data.visitors;
              document.getElementById('t_qna_today').textContent       = data.qnaCount;
          }
          function bindYesterday(data){
              document.getElementById('t_order_cnt_yday').textContent = data.orderCount;
              document.getElementById('t_order_amt_yday').textContent = Number(data.orderAmount||0).toLocaleString();
              document.getElementById('t_signup_yday').textContent    = data.userSignups;
              document.getElementById('t_visit_yday').textContent     = data.visitors;
              document.getElementById('t_qna_yday').textContent       = data.qnaCount;
          }

          async function fetchStats(from, to){
              const q = `?from=${encodeURIComponent(from)}&to=${encodeURIComponent(to)}`;
              const res = await fetch(`${ctxPath}/api/admin/ops-stats${q}`);
              if(!res.ok) throw new Error('stats api error');
              return res.json();
          }

          (async () => {
              // 1) ì˜¤ëŠ˜ ì§‘ê³„ â†’ ìƒë‹¨ ì§‘ê³„ + ì˜¤ëŠ˜ í–‰
              const today = await fetchStats(toLocalISO(todayStart), toLocalISO(tomorrowStart));
              bindTotals(today);
              bindToday(today);

              // 2) ì–´ì œ ì§‘ê³„ â†’ ì–´ì œ í–‰
              const yday = await fetchStats(toLocalISO(yesterdayStart), toLocalISO(todayStart));
              bindYesterday(yday);
          })().catch(console.error);
      })();
  </script>


  <footer style="padding:20px; background-color: #808080; width:100%; height:62px; color:white;">
        Copyright Â©NICHIYA.co.kr All rights reserved. NICHIYA ADMINISTRATOR Version 5.4.1.2
    </footer>
</body>
</html>
