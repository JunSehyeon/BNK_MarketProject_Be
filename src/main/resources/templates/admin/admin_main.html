<div th:replace="~{admin/_header.html}"></div>
  <main style=" display: flex; justify-content: center; border-top:1px solid #e2e2e2;">
    <div>
    <aside class="euro-nav" aria-label="관리자 사이드 메뉴" style="">
            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">환경설정</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">기본설정</a></li>
                <li class="euro-nav__item"><a href="#">배너관리</a></li>
                <li class="euro-nav__item"><a href="#">약관관리</a></li>
                <li class="euro-nav__item"><a href="#">카테고리</a></li>
                <li class="euro-nav__item"><a href="#">버전관리</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">상점관리</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">상점목록</a></li>
                <li class="euro-nav__item"><a href="#">매출현황</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">회원관리</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">회원목록</a></li>
                <li class="euro-nav__item"><a href="#">포인트관리</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">상품관리</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">상품목록</a></li>
                <li class="euro-nav__item"><a href="#">상품등록</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">주문관리</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">주문현황</a></li>
                <li class="euro-nav__item"><a href="#">배송현황</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">쿠폰관리</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">쿠폰목록</a></li>
                <li class="euro-nav__item"><a href="#">쿠폰발급현황</a></li>
            </ul>
            </section>

            <section class="euro-nav__group">
            <h4 class="euro-nav__title" style="">고객센터</h4>
            <ul class="euro-nav__list">
                <li class="euro-nav__item"><a href="#">공지사항</a></li>
                <li class="euro-nav__item"><a href="#">자주묻는질문</a></li>
                <li class="euro-nav__item"><a href="#">문의하기</a></li>
                <li class="euro-nav__item"><a href="#">채용하기</a></li>
            </ul>
            </section>
        </aside>
        </div>
        <div style="border-left:1px solid #e2e2e2;"></div>
        <div style="width:900px; margin-left:40px;">

  <!-- 메인 콘텐츠 -->
  <div class="title-line" style="border-bottom: 2px solid #ccc;">
    <div style="padding-top: 10px; padding-bottom: 5px; font-size: 22px;"><b>관리자메인</b></div>
    <div>HOME > <b>관리자 메인</b></div>
  </div>  

  <!-- 집계현황 -->
  <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>집계현황</b></div>
    <div class="container">
    <div class="chart-box"><canvas id="barChart" ></canvas></div>
    <div class="chart-box"><canvas id="pieChart" ></canvas></div>
  </div>

  <!-- 운영현황 -->
  <div class="title-line" style="padding-top: 20px; padding-bottom: 5px;"><b>운영현황</b></div>
  <table class="status-table">
    <tr>
      <th>입금대기</th>
      <th>배송준비</th>
      <th>취소요청</th>
      <th>교환요청</th>
      <th style="border-right: none;">반품요청</th>
    </tr>
    <tr>
      <td class="value">101</td>
      <td class="value">124</td>
      <td class="value">14</td>
      <td class="value">7</td>
      <td class="value" style="border-right: none;">24</td>
    </tr>
    <tr class="status-gap"></tr>
    <tr>
      <th>주문건수</th>
      <th>주문금액</th>
      <th>회원가입</th>
      <th>방문자 수</th>
      <th style="border-right: none;">문의 게시물</th>
    </tr>
    <tr>
      <td class="value">131</td>
      <td class="value">3,700,000</td>
      <td class="value">232</td>
      <td class="value">2,500</td>
      <td class="value" style="border-right: none;">25</td>
    </tr>
    <tr>
      <td colspan="5" style="padding:0; border: none;">
        <table style="width:100%; border-collapse:collapse; text-align:center; table-layout: fixed;">
          <tr>
            <td>오늘</td><td>60</td>
            <td>오늘</td><td style="text-align: center;padding-left: 0;padding-right: 0;">1,200,000</td>
            <td>오늘</td><td>102</td>
            <td>오늘</td><td>1,200</td>
            <td>오늘</td><td style="border-right: none;">12</td>
          </tr>
          <tr>
            <td>어제</td><td>71</td>
            <td>어제</td><td style="text-align: center;padding-left: 0;padding-right: 0;">2,500,000</td>
            <td>어제</td><td>130</td>
            <td>어제</td><td>1,300</td>
            <td>어제</td><td style="border-right: none;">13</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
    <div class="board-wrapper" style="margin-bottom: 50px;">      

    <!-- 공지사항 -->
    <div class="board-section">
      <div style="padding-top: 20px; padding-bottom: 5px;"><b>공지사항</b></div>
      <hr style="margin-top: 10px;">
      <ul>
        <li>[ 안내 ] 해외결제사칭문자주의 <span>22.10.31</span></li>
        <li>[ 안내 ] 로젠택배반품 / 교환수거지 <br>...<span style="padding-top: 10px;">22.10.31</span></li>
        <li>[ 안내 ] 위치정보이용약관개정 <br>공지<span pan style="padding-top: 10px;">22.10.31</span></li>
        <li>[ 안내 ] 구매회원이용약관개정공지 <span>22.10.31</span></li>
        <li style="border-bottom: 1px solid #ccc;">[ 안내 ] 씨티은행시스템점검에따 <br>...<span pan style="padding-top: 10px;">22.10.31</span></li>
      </ul>
    </div>

    <!-- 고객문의 -->
    <div class="board-section">
      <div style="padding-top: 20px; padding-bottom: 5px;"><b>고객문의</b></div>
      <hr style="margin-top: 10px;">
      <ul>
        <li>[ 가입 ] 가입문의내용 <span>chn** 22.10.31</li>
        <li>[ 탈퇴 ] 탈퇴문의내용 <span>chn** 22.10.31</span></li>
        <li>[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
        <li>[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
        <li style="border-bottom: 1px solid #ccc;">[ 회원정보 ] 회원정보문의내용 <span>chn** 22.10.31</span></li>
      </ul>
    </div>  
  </div>  
  </div>
  <script>
    // 바 차트
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['10-10', '10-11', '10-12', '10-13', '10-14'],
        datasets: [
          { label: '주문', data: [5.3, 9, 3.5, 4.4, 4.5], backgroundColor: '#4A90E2' },
          { label: '결제', data: [3.3, 7, 1.8, 2.8, 2.8], backgroundColor: '#D0021B' },
          { label: '취소', data: [1, 2, 2, 1, 1], backgroundColor: '#7ED321' }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: { 
          legend: { labels: { boxWidth: 12, boxHeight: 12 } },
          title: { display: false }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 10,
            ticks: { display: false },
            grid: {
              drawTicks: false,
              borderColor: '#ccc'
            }
          },
          x: {
            grid: {
              display: false,
              drawBorder: false
            },            
            barPercentage: 0.4,      
            categoryPercentage: 0.6  
          }
        }
      },
      plugins: [{
        id: 'rightBorder',
        afterDraw(chart) {
          const { ctx, chartArea: { top, bottom, right } } = chart;
          ctx.save();
          ctx.beginPath();
          ctx.moveTo(right, top);
          ctx.lineTo(right, bottom);
          ctx.lineWidth = 1;
          ctx.strokeStyle = '#ccc';
          ctx.stroke();
          ctx.restore();
        }
      }]
    });

    // 파이 차트
    new Chart(document.getElementById('pieChart'), {
      type: 'pie',
      data: {
        labels: ['가전', '식품', '의류', '기타'],
        datasets: [{
          data: [55, 25, 10, 10],
          backgroundColor: ['#4A90E2', '#D0021B', '#7ED321', '#8977AD']
        }]
      },
      options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { 
        title: { display: true, text: '주요매출' },
        legend: { 
          position: 'bottom',
          labels: {
            boxWidth: 10,   
            boxHeight: 10,  
            padding: 15,    
            font: {
              size: 12      
            }
          }
        }
      }
    }
  });
  </script>
  </main>
  <style>
        .euro-nav__list {
            max-height: 0;                /* 기본은 접힘 */
            overflow: hidden;             /* 안 보이게 */
            transition: max-height 0.15s ease;
        }

            .euro-nav__group.open .euro-nav__list {
            max-height: 500px;            /* 펼쳐졌을 때 (충분히 크게 설정) */
        }
    </style>
    <script>
        // 아코디언: 클릭 시 높이를 실제 내용 높이로 애니메이션
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.style.cursor = 'pointer'; // 클릭 가능 시각화(선택)
    title.addEventListener('click', () => {
      const group = title.parentElement;
      const list  = group.querySelector('.euro-nav__list');

      const isOpen = group.classList.contains('open');

      if (isOpen) {
        // 닫기: 현재 높이를 고정 -> 0으로
        list.style.maxHeight = list.scrollHeight + 'px';
        // 강제 리플로우로 트랜지션 시작점 확정
        list.offsetHeight; 
        list.style.maxHeight = '0px';
        group.classList.remove('open');
      } else {
        // 열기: 0 -> 내용 높이
        group.classList.add('open');
        list.style.maxHeight = list.scrollHeight + 'px';

        // 애니메이션 끝나면 inline max-height 제거(자연스런 레이아웃)
        const onEnd = (e) => {
          if (e.propertyName === 'max-height') {
            list.style.maxHeight = 'none';
            list.removeEventListener('transitionend', onEnd);
          }
        };
        list.addEventListener('transitionend', onEnd);
      }
    });
  });

  const groups = document.querySelectorAll('.euro-nav__group');
  document.querySelectorAll('.euro-nav__title').forEach(title => {
    title.addEventListener('click', () => {
      groups.forEach(g => {
        if (g !== title.parentElement && g.classList.contains('open')) {
          const l = g.querySelector('.euro-nav__list');
          l.style.maxHeight = l.scrollHeight + 'px';
          l.offsetHeight;
          l.style.maxHeight = '0px';
          g.classList.remove('open');
        }
      });
    }, {capture:true});
  });
  
    </script>
<div th:replace="~{admin/_footer.html}"></div>
